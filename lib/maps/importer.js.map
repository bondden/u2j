{"version":3,"sources":["importer.es7.js"],"names":[],"mappings":"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","file":"importer.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 16.05.2015.\n */\n'use strict';\n/**\n * Connects to OrientDb server.\n * Creates DB schema or adds classes to existent schema from parsedData.\n */\nvar\n\tchalk    =require('chalk'),\n\t//colors = require('colors'),\n\tclc = require('cli-color'),\n  fs=require('fs')\n\n;\n\nexport class Importer {\n\n\tconstructor(db,cnf){\n\t\tthis.db=db;\n\t\tthis.cnf=cnf;\n\t}\n\n\tinsertClassProperty(className,propData){\n\n\t\t//console.log(clc.yellow('\\t\\t\\t\\tat insertClassProperty of '+className)+'{'+clc.whiteBright(propData.name+':'+propData.type)+'}');\n\n\t\tvar holder=this;\n\t\t//var holder=this;\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\tlet q=`create property ${className}.${propData.name} ${propData.type}`;\n\t\t\t//console.log(q);\n\n\t\t\tholder.db.exec(q).then(function(r){\n\n\t\t\t\t//console.log(clc.greenBright('\\tprop created '+className+'.'+propData.name+' with '+r.results.length+' results'));\n\t\t\t\t//console.log(r);\n\t\t\t\t//console.log('\\n');\n\n\t\t\t\tresolve(r);\n\n\t\t\t}).catch(function(e){\n\n\t\t\t\tconsole.log(clc.red('Error #3'));\n\t\t\t\tconsole.log(e);\n\t\t\t\tconsole.log('query: '+q);\n\n\t\t\t\t//todo: normal logging or remove in open version\n\t\t\t\tlet date=new Date();\n\t\t\t\tlet t=date.toTimeString();\n\t\t\t\tfs.appendFile(\n\t\t\t\t\tholder.cnf.path.logFile,\n\t\t\t\t\t'['+t+'] '+__filename+': Error#3; query: \"'+q+'\"; raw: '+JSON.stringify(e)+'\\n'\n\t\t\t\t);\n\n\t\t\t\treject(e);\n\n\t\t\t});\n\n\t\t});\n\t}\n\n\tclassExists(className){\n\n\t\t//console.log(clc.white('\\t\\t\\t\\tat classExists ')+clc.whiteBright(className));\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\t//console.log(clc.white('\\t\\t\\t\\tat classExists.Promise of ')+clc.whiteBright(className));\n\n\t\t\tholder.db.class.get(className).then(function(classPtr){\n\n\t\t\t\t//console.log(clc.white('\\nclassExists.exists '+className));\n\n\t\t\t\tresolve(classPtr);\n\n\t\t\t}).catch(function(e){\n\n\t\t\t\tresolve(false);\n\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tinsertClassCheckless(classData){\n\n\t\t//console.log('\\n\\t\\t\\t\\tat insertClassCheckless '+clc.whiteBright.bold(classData.name));\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\t//console.log('\\n\\t\\t\\t\\tat insertClassCheckless Promise of '+clc.whiteBright.bold(classData.name));\n\n\t\t\tlet c={\n\t\t\t\t\"name\"     :classData.name,\n\t\t\t\t\"extends\"  :'',\n\t\t\t\t\"abstract\" :''\n\t\t\t};\n\t\t\tif(classData.hasOwnProperty('superClass')&&classData.superClass){\n\t\t\t\tc.extends=' extends '+classData.superClass;\n\t\t\t}\n\t\t\tif(classData.hasOwnProperty('abstract')&&classData.abstract){\n\t\t\t\tc.abstract=' ABSTRACT';\n\t\t\t}\n\t\t\tlet q=`create class ${c.name}${c.extends}${c.abstract}`;\n\n\t\t\t//console.log(clc.whiteBright('\\nq: '+q));\n\n\t\t\tholder.db.exec(q).then(function(r){\n\n\t\t\t\t//console.log(clc.green('\\ncreated class '+classData.name));\n\t\t\t\t//console.log(r);\n\n\t\t\t\t//holder.db.class.get(classData.name).then(function(recentClass){\n\n\t\t\t\tlet promises=[];\n\t\t\t\tclassData.properties.forEach(function(p){\n\t\t\t\t\tpromises.push(holder.insertClassProperty(classData.name,p));\n\t\t\t\t});\n\t\t\t\tpromises.push(new Promise(function(rs,rj){\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\trj(new Error('Timeout '+holder.cnf.timeout+' ms'));\n\t\t\t\t\t},holder.cnf.timeout);\n\t\t\t\t}));\n\n\t\t\t\tPromise.all(promises).then(function(r){\n\n\t\t\t\t\t//console.log(clc.magentaBright('props '+classData.name));\n\t\t\t\t\tresolve(r);\n\n\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\tconsole.log(clc.red('Error #4'));\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\tconsole.log(clc.white('props of '+classData.name));\n\t\t\t\t\tconsole.log('\\n');\n\t\t\t\t\treject(e);\n\n\t\t\t\t});\n\n\t\t\t\t/*}).catch(function(e){\n\n\t\t\t\t\tconsole.log(clc.red('Error #12'));\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\treject(e);\n\n\t\t\t\t});*/\n\n\t\t\t}).catch(function(e){\n\n\t\t\t\tconsole.log(clc.red('Error #5'));\n\t\t\t\tconsole.log(e);\n\t\t\t\treject(e);\n\n\t\t\t});\n\n\t\t\t//console.log('\\n');\n\n\t\t});\n\t}\n\n\tinsertClass(classData){\n\n\t\t//console.log(clc.white('\\n\\t\\tat insertClass ')+clc.whiteBright.bold(classData.name));\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\t//console.log(clc.white('\\t\\t\\t\\tat Promise of ')+clc.whiteBright(classData.name));\n\n\t\t\tholder.classExists(classData.name).then(function(r){\n\n\t\t\t\t//console.log(`\\nclass ${classData.name} exists: `+clc.cyan(r));\n\n\t\t\t\tif(r){\n\n\t\t\t\t\t//console.log(clc.magentaBright('exists ')+classData.name);\n\n\t\t\t\t\tresolve(r);\n\n\t\t\t\t}else{\n\n\t\t\t\t\t//console.log(clc.magentaBright('absent ')+classData.name);\n\n\t\t\t\t\tif(classData.hasOwnProperty('superClass')&&classData.superClass){\n\n\t\t\t\t\t\t//console.log(clc.blue('\\nclass ')+classData.name+clc.blueBright('.hasSuper')+'('+classData.superClass+')');\n\n\t\t\t\t\t\tlet sClass=classData.find(function(el,i,a){\n\t\t\t\t\t\t\treturn el.name==classData.superClass;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(sClass){\n\t\t\t\t\t\t\tholder.insertClass(sClass).then(function(r){\n\n\t\t\t\t\t\t\t\t//console.log(clc.green('inserted parent '+r));\n\n\t\t\t\t\t\t\t\tholder.insertClassCheckless(classData).then(function(r1){\n\n\t\t\t\t\t\t\t\t\t//console.log(clc.green('inserted with parent '+r1));\n\t\t\t\t\t\t\t\t\tresolve(r1);\n\n\t\t\t\t\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\t\t\t\t\tconsole.log(clc.red('Error #12'));\n\t\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\t\treject(e);\n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\t\t\t\tconsole.log(clc.red('Error #10'));\n\t\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\t\treject(e);\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\t//console.log(clc.blue('\\nclass ')+classData.name+clc.blueBright('.hasSuper')+'('+clc.red('false')+')');\n\n\t\t\t\t\t\tholder.insertClassCheckless(classData).then(function(r){\n\n\t\t\t\t\t\t\t//console.log(clc.green('inserted parentless '+r));\n\t\t\t\t\t\t\tresolve(r);\n\n\t\t\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\t\t\tconsole.log(clc.red('\\nError #11'));\n\t\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t\t\treject(e);\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t})/*.catch(function(e){\n\t\t\t\tif(e){\n\t\t\t\t\tconsole.log('\\nclassExists.catch:');\n\t\t\t\t\tconsole.log(clc.red(e));\n\t\t\t\t\tconsole.log('\\n');\n\t\t\t\t}\n\t\t\t})*/;\n\n\t\t});\n\n\t}\n\n\t/**\n\t *\n\t * @param data  : parsedData format\n\t * @param connConfig : (cnf.json).orient format\n\t * @returns {Promise}\n\t */\n\timportParsedData(data){\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\ttry{\n\n\t\t\t\tif(!data||!data.classes){\n\t\t\t\t\treject(new Error('Error importing data: the data is incorrect.'));\n\t\t\t\t}\n\n\t\t\t\tlet promises=[];\n\t\t\t\tdata.classes.forEach(function(classData){\n\t\t\t\t\tpromises.push(holder.insertClass(classData));\n\t\t\t\t});\n\t\t\t\tpromises.push(new Promise(function(rs,rj){\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\trj(new Error('Timeout '+holder.cnf.timeout+' ms'));\n\t\t\t\t\t},holder.cnf.timeout);\n\t\t\t\t}));\n\n\t\t\t\tPromise.all(promises).then(function(r){\n\n\t\t\t\t\tconsole.log('all classes resolved'.green);\n\t\t\t\t\tresolve(r);\n\n\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\tconsole.log(clc.red('Error #6'));\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t\treject(new Error('Error in database communication #1'));\n\n\t\t\t\t});\n\n\t\t\t}catch(e){\n\n\t\t\t\tconsole.log('Error #7'.red);\n\t\t\t\tconsole.log(e);\n\t\t\t\treject(new Error('Error in database communication #2'));\n\n\t\t\t}\n\n\t\t});\n\n\t}\n\n}\n"],"sourceRoot":"/source/"}