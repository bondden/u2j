{"version":3,"sources":["server.es7.js"],"names":[],"mappings":";;;AAGA,YAAY,CAAC;;;;;;;;;;AAEb,IACC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC;IAC5B,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC;IACrB,GAAG,GAAG,OAAO,CAAC,WAAW,CAAC,CAC3B;;AAED,IAAI,SAAS,GAAG,MAAM,EAAE,CAAC;AACzB,IAAI,iBAAiB,GAAG,MAAM,EAAE,CAAC;;IAEpB,MAAM;AAEP,UAFC,MAAM,CAEN,QAAQ,EAAC;wBAFT,MAAM;;AAIjB,MAAG,QAAQ,IAAI,iBAAiB,EAAC;AAChC,SAAM,mCAAmC,CAAC;GAC1C,MAAI;AACJ,UAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;GAClC;EAED;;cAVW,MAAM;;SAmBf,aAAC,GAAG,EAAC;;AAEP,UAAO,CAAC,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAAC;;AAEhD,OAAI,CAAC,GAAG,GAAC,GAAG,CAAC;AACb,OAAI,CAAC,CAAC,GAAC,OAAO,EAAE,CAAC;;AAEjB,OAAI,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,UAAO,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAClE,OAAI,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,EAAC,UAAS,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,IAAI,EAAC;AAC9C,OAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC;AAC9B,OAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;AAEH,OAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACnC,OAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACxB,CAAC,CAAC;;AAEH,OAAI,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;GAClB;;;OAzBkB,YAAE;AACpB,OAAG,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;AACpB,QAAI,CAAC,SAAS,CAAC,GAAG,IAAI,MAAM,CAAC,iBAAiB,CAAC,CAAC;IAChD;AACD,UAAO,IAAI,CAAC,SAAS,CAAC,CAAC;GACvB;;;QAjBW,MAAM;;;QAAN,MAAM,GAAN,MAAM","file":"server.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 16.05.2015.\n */\n'use strict';\n\nvar\n\texpress = require('express'),\n\tpath = require('path'),\n  clc = require('cli-color')\n;\n\nlet singleton = Symbol();\nlet singletonEnforcer = Symbol();\n\nexport class Server{\n\n\tconstructor(enforcer){\n\n\t\tif(enforcer != singletonEnforcer){\n\t\t\tthrow \"Cannot construct Server singleton\";\n\t\t}else{\n\t\t\tconsole.log('Server initialized');\n\t\t}\n\n\t}\n\n\tstatic get instance(){\n\t\tif(!this[singleton]) {\n\t\t\tthis[singleton] = new Server(singletonEnforcer);\n\t\t}\n\t\treturn this[singleton];\n\t}\n\n\trun(cnf){\n\n\t\tconsole.log(clc.whiteBright('//at Server.run'));\n\n\t\tthis.cnf=cnf;\n\t\tthis.x=express();\n\n\t\tthis.x.use(express.static(path.join(__dirname,cnf.p.web.assets)));\n\t\tthis.x.use('/d/web/',function(err,req,res,next){\n\t\t\tres.status(err.status || 200);\n\t\t\tres.send('<b>test</b>');\n\t\t});\n\n\t\tthis.x.get('/', function (req, res) {\n\t\t\tres.send('Hello World');\n\t\t});\n\n\t\tthis.x.listen(80);\n\t}\n\n}\n"],"sourceRoot":"/source/"}