{"version":3,"sources":["util.es7.js"],"names":[],"mappings":";;;;AAIA,YAAY,CAAC;;;;;;;;;AACb,IAAI,GAAG,GAAC,OAAO,CAAC,WAAW,CAAC,CAAC;AAC7B,IAAI,EAAE,GAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;IAER,IAAI;UAAJ,IAAI;wBAAJ,IAAI;;;cAAJ,IAAI;;SAEF;AACb,OAAI,EAAC,GAAG,CAAC,KAAK;AACd,OAAI,EAAC,GAAG,CAAC,GAAG;AACZ,OAAI,EAAC,GAAG,CAAC,KAAK;AACd,OAAI,EAAC,GAAG,CAAC,MAAM;AACf,QAAK,EAAC,GAAG,CAAC,SAAS;GACnB;;;;SAEkB,eAAS,CAAC,EAAC;AAC7B,OACC,UAAU,GAAC,UAAU;OACrB,YAAY,GAAC,CACZ,MAAM,EACN,UAAU,EACV,UAAU,EACV,cAAc,EACd,OAAO,CACP,CACD;;AAED,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,YAAY,CAAC,MAAM,EAAC,CAAC,GAAC,CAAC,EAAC,CAAC,EAAE,EAAC;AACzC,KAAC,GAAC,CAAC,CAAC,GAAC,EAAE,CAAA,CAAE,OAAO,CACf,IAAI,MAAM,CAAC,GAAG,GAAC,YAAY,CAAC,CAAC,CAAC,GAAC,iBAAmB,EAAC,IAAI,CAAC,EACxD,GAAG,GAAC,YAAY,CAAC,CAAC,CAAC,GAAC,KAAK,GAAC,UAAU,GAAC,GAAG,CACxC,CAAC;IACF;;AAED,UAAO,CAAC,CAAC;GACT;;;;SAEY,iBAA0C;OAAjC,GAAG,yDAAC,IAAI;OAAC,KAAK,yDAAC,IAAI;OAAC,MAAM,yDAAC,KAAK;;;;;AAKrD,OACC,MAAM,GAAC;AACN,QAAI,EAAC,GAAG,CAAC,KAAK;AACd,QAAI,EAAC,GAAG,CAAC,SAAS;AAClB,QAAI,EAAC,GAAG,CAAC,KAAK;AACd,QAAI,EAAC,GAAG,CAAC,MAAM;AACf,QAAI,EAAC,GAAG,CAAC,aAAa;AACtB,QAAI,EAAC,GAAG,CAAC,WAAW;IACpB;OACD,GAAG,GAAG,KAAK,CACX;;;AAGD,OAAG,GAAG,YAAY,KAAK,EAAC;AACvB,SAAK,GAAC,IAAI,CAAC;AACX,OAAG,GAAC,IAAI,GAAC,GAAG,CAAC,KAAK,CAAC;IACnB;;;AAGD,OAAG,OAAO,GAAG,KAAK,QAAQ,EAAC;AAC1B,OAAG,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;AACxB,QAAG,GAAG,EAAC;AACN,QAAG,IAAE,GAAG,CAAC;KACT;IACD;;AAED,MAAG,GAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;;AAExB,OAAI,CAAC,GAAC,IAAI,IAAI,EAAE,CAAC;;AAEjB,KAAE,CAAC,UAAU,CACZ,gBAAgB,EAChB,CAAC,CAAC,WAAW,EAAE,GAAC,IAAI,GAAC,GAAG,GAAC,IAAI,EAC7B,UAAS,GAAG,EAAC;AACZ,QAAG,GAAG,EAAE,MAAM,GAAG,CAAC;IAClB,CACD,CAAC;;AAEF,OAAG,CAAC,MAAM,EAAC;AACV,WAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,aAAa,GAAC,GAAG,CAAC,CAAC,CAAC;IAC9C;GAED;;;;QA/EW,IAAI;;;QAAJ,IAAI,GAAJ,IAAI","file":"util.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 25.05.2015.\n */\n\n'use strict';\nvar clc=require('cli-color');\nvar fs=require('fs');\n\nexport class Util{\n\n\tstatic styles={\n\t\t'ne':clc.white,\n\t\t'er':clc.red,\n\t\t'ok':clc.green,\n\t\t'em':clc.yellow,\n\t\t'erb':clc.redBright\n\t};\n\n\tstatic logFilter = function(s){\n\t\tvar\n\t\t\tcensorNote='FILTERED',\n\t\t\tcensoredKeys=[\n\t\t\t\t'pass',\n\t\t\t\t'password',\n\t\t\t\t'userPass',\n\t\t\t\t'userPassword',\n\t\t\t\t'token'\n\t\t\t]\n\t\t;\n\n\t\tfor(var i=0,l=censoredKeys.length;i<l;i++){\n\t\t\ts=(s+'').replace(\n\t\t\t\tnew RegExp('\"'+censoredKeys[i]+'\"\\s*:\\s*\"([^\"]+)\"',\"ig\"),\n\t\t\t\t'\"'+censoredKeys[i]+'\":\"'+censorNote+'\"'\n\t\t\t);\n\t\t}\n\n\t\treturn s;\n\t};\n\n\tstatic log = function(msg='\\n',style='ne',silent=false){\n\n\t\t//todo: transfer settings to log for a) defining a log file, b) setting logging on/off\n\t\t//if(!settings.log)return;\n\n\t\tvar\n\t\t\tstyles={\n\t\t\t\t'ne':clc.white,\n\t\t\t\t'er':clc.redBright,\n\t\t\t\t'ok':clc.green,\n\t\t\t\t'em':clc.yellow,\n\t\t\t\t'mb':clc.magentaBright,\n\t\t\t\t'sh':clc.whiteBright\n\t\t\t},\n\t\t\tapx  =false\n\t\t;\n\n\t\t//set console style style\n\t\tif(msg instanceof Error){\n\t\t\tstyle='er';\n\t\t\tapx='\\n'+msg.stack;\n\t\t}\n\n\t\t//set log format\n\t\tif(typeof msg === 'object'){\n\t\t\tmsg=JSON.stringify(msg);\n\t\t\tif(apx){\n\t\t\t\tmsg+=apx;\n\t\t\t}\n\t\t}\n\n\t\tmsg=Util.logFilter(msg);\n\n\t\tvar d=new Date();\n\n\t\tfs.appendFile(\n\t\t\t'./d/utolog.log',\n\t\t\td.toUTCString()+'\\t'+msg+'\\n',\n\t\t\tfunction(err){\n\t\t\t\tif(err) throw err;\n\t\t\t}\n\t\t);\n\n\t\tif(!silent){\n\t\t\tconsole.log(styles[style]('\\nuto.log: '+msg));\n\t\t}\n\n\t};\n\n}\n"],"sourceRoot":"/source/"}