{"version":3,"sources":["main.es7.js"],"names":[],"mappings":"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","file":"main.es7.js","sourcesContent":["/**\n * Created by Denis Bondarenko <bond.den@gmail.com> on 16.05.2015.\n */\n\"use strict\";\n\nimport * as ServerLib from '../lib/server'\nimport * as CompilerLib from '../lib/compiler'\nimport * as ParserLib from '../lib/parser'\nimport * as ExporterLib from '../lib/exporter'\nimport * as RendererLib from '../lib/renderer'\nimport * as ImporterLib from '../lib/importer'\nimport * as UtilLib from '../lib/util'\n\nvar\n\tServer  =ServerLib.Server,\n\tCompiler=CompilerLib.Compiler,\n\tParser  =ParserLib.Parser,\n\tExporter=ExporterLib.Exporter,\n\tRenderer=RendererLib.Renderer,\n\tImporter=ImporterLib.Importer\n;\n\nvar\n\tfs       =require('fs'),\n\tpath     =require('path'),\n\ttraverse =require('traverse'),\n\ttemplater=require('json-templater/string'),\n\todb       =require('oriento'),\n\tL\t= UtilLib.Util.log\n;\n\nvar cplTpl=function(s,root){\n\n\tlet c=s.replace(/\\$\\{([a-z0-9\\.]+)}/ig,'{{$1}}');\n\tlet r=templater(\n\t\tc,\n\t\troot\n\t);\n\n\treturn r;\n\n};\n\n/**\n * Compiles template strings in json object\n * @param b\n */\nvar cplBranch=function(b,root){\n\n\ttraverse(b).forEach(function(v){\n\t\tif(typeof v==='string'){\n\t\t\tthis.update(cplTpl(v,root));\n\t\t}\n\t});\n\n};\n\nexport class Main {\n\n\tconstructor(){\n\n\t\tvar holder=this;\n\n\t\tthis.libDir     ='';\n\t\tthis.modules    =[\n\t\t\t'compiler',\n\t\t\t'importer',\n\t\t\t'exporter',\n\t\t\t'parser',\n\t\t\t'renderer',\n\t\t\t'server'\n\t\t];\n\n\t\tthis.cnf=false;\n\n\t\tthis.server  =false;\n\t\tthis.renderer=false;\n\t\tthis.compiler=false;\n\t\tthis.parser  =false;\n\t\tthis.importer=false;\n\t\tthis.exporter=false;\n\n\t\tthis.odbSrv=false;\n\t\tthis.db    =false;\n\n\t\tthis.parsedData=false;\n\n\t\tthis.initialized=new Promise(function initializedPromise(resolve,reject){\n\n\t\t\tholder.init().then(function holderInitThen(d){\n\t\t\t\tresolve(d);\n\t\t\t}).catch(function(e){\n\t\t\t\tL('\\nError Main#8','er');\n\t\t\t\tL(e);\n\t\t\t\treject(e);\n\t\t\t});\n\n\t\t\tlet timeout=60000;\n\t\t\tsetTimeout(\n\t\t\t\tfunction(){\n\t\t\t\t\treject(new Error('Initialization timeout of '+timeout+' exceeded.\\nPossibly DB connection problem.'));\n\t\t\t\t},\n\t\t\t\ttimeout\n\t\t\t);\n\n\t\t});\n\n\t}\n\n\tloadModules(){\n\n\t\tthis.server  =Server.instance;\n\t\tthis.renderer=new Renderer();\n\t\tthis.compiler=new Compiler(this.cnf);\n\t\tthis.parser  =new Parser();\n\t\tthis.importer=new Importer(this.db,this.cnf);\n\t\tthis.exporter=new Exporter();\n\n\t\tthis.server.run(this.cnf);\n\n\t}\n\n\tinitDB(){\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function (resolve,reject){\n\n\t\t\tholder.odbSrv=odb({\n\t\t\t\thost     :'localhost',\n\t\t\t\tport     :2424,\n\t\t\t\tusername :holder.cnf.orient.server.username,\n\t\t\t\tpassword :holder.cnf.orient.server.password\n\t\t\t});\n\n\t\t\tholder.odbSrv.exists(\n\t\t\t\tholder.cnf.orient.db.name,\n\t\t\t\tholder.cnf.orient.db.storage\n\t\t\t).then(function srvExistsThen(d){\n\n\t\t\t\tif(d){\n\n\t\t\t\t\tholder.db=holder.odbSrv.use({\n\t\t\t\t\t\tname     :holder.cnf.orient.db.name,\n\t\t\t\t\t\tusername :holder.cnf.orient.db.username,\n\t\t\t\t\t\tpassword :holder.cnf.orient.db.password\n\t\t\t\t\t});\n\n\t\t\t\t\tif(holder.db){\n\t\t\t\t\t\tresolve(holder.db);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tL('\\nError Main#7','er');\n\t\t\t\t\t\tL(e);\n\t\t\t\t\t\treject(holder.db);\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\n\t\t\t\t\tholder.db=holder.odbSrv.create({\n\t\t\t\t\t\tname     :holder.cnf.orient.db.name,\n\t\t\t\t\t\tusername :holder.cnf.orient.server.username,\n\t\t\t\t\t\tpassword :holder.cnf.orient.server.password\n\t\t\t\t\t}).then(function (d){\n\t\t\t\t\t\tresolve(d);\n\t\t\t\t\t}).catch(function(e){\n\t\t\t\t\t\tL('\\nError Main#6','er');\n\t\t\t\t\t\tL(e);\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\t/*console.log('\\nError Main#21'.red);\n\t\t\t\tconsole.log(holder.db);\n\t\t\t\treject(new Error(holder.db));*/\n\n\t\t\t}).catch(function(e){\n\n\t\t\t\tL('\\nError Main#5','er');\n\t\t\t\tconsole.log(e);\n\t\t\t\treject(e);\n\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tloadConfig(){\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function (resolve,reject){\n\n\t\t\tfs.readFile('./d/cnf.json',function(e,d){\n\n\t\t\t\tif(e){\n\t\t\t\t\tL('\\nError Main#4','er');\n\t\t\t\t\tL(e);\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\n\t\t\t\tholder.cnf=JSON.parse(d);\n\t\t\t\tcplBranch(holder.cnf,holder.cnf);\n\t\t\t\tresolve(d);\n\n\t\t\t});\n\n\t\t});\n\n\t};\n\n\tinit(){\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function (resolve,reject){\n\n\t\t\tholder.loadConfig().then(function (d0){\n\n\t\t\t\tholder.initDB().then(function (d){\n\n\t\t\t\t\tholder.loadModules();\n\n\t\t\t\t\tresolve(true);\n\n\t\t\t\t}).catch(function(e){\n\t\t\t\t\tL('\\nError Main#3','er');\n\t\t\t\t\tL(e);\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\n\t\t\t}).catch(function(e){\n\t\t\t\tL('\\nError Main#8','er');\n\t\t\t\tL(e);\n\t\t\t\treject(e);\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tcompilePumlToJson(pumlFile,jsonFile){\n\n\t\t//console.log('\\n//at compilePumlToJson\\n\\t'+pumlFile+' => '+jsonFile);\n\n\t\tvar holder=this;\n\t\treturn new Promise(function (resolve,reject){\n\n\t\t\t//console.log('\\n//at compilePumlToJson/Promise: ');\n\n\t\t\t//console.log(pumlFile+' exists = '+fs.existsSync(pumlFile));\n\n\t\t\tholder.parser.parse(pumlFile).then(function(d){\n\n\t\t\t\tholder.parsedData=d;\n\n\t\t\t\t//console.log('//on compilePumlToJson/parser.parse\\nd: '+`${holder.parsedData}`.green);\n\n\t\t\t\tholder.compiler.compile(holder.parsedData,jsonFile).then(function(ok){\n\n\t\t\t\t\t//console.log('//on compilePumlToJson/compiler.compile\\nd:\\n');\n\t\t\t\t\t//console.log(ok);\n\n\t\t\t\t\tresolve(ok);\n\n\t\t\t\t}).catch(function(e){\n\t\t\t\t\t//console.log('//on compilePumlToJson/compiler error\\ne:\\n'.red);\n\t\t\t\t\t//console.log(e);\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\n\t\t\t}).catch(function(e){\n\t\t\t\treject(e);\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\timportPuml(pumlFile){\n\n\t\tvar holder=this;\n\n\t\treturn new Promise(function(resolve,reject){\n\n\t\t\tholder.parser.parse(pumlFile).then(function(d){\n\n\t\t\t\tholder.parsedData=d;\n\n\t\t\t\t//console.log('\\nparsedData:');\n\t\t\t\t//console.log(d);\n\n\t\t\t\tholder.importer.importParsedData(holder.parsedData).then(function(d1){\n\n\t\t\t\t\tL(`d1: ${d1}`);\n\t\t\t\t\tresolve(d1);\n\n\t\t\t\t}).catch(function(e){\n\n\t\t\t\t\tL('\\nError Main#1','er');\n\t\t\t\t\tL(e);\n\t\t\t\t\treject(e);\n\n\t\t\t\t});\n\n\t\t\t}).catch(function(e){\n\n\t\t\t\tL('\\nError Main#2','er');\n\t\t\t\tL(e);\n\t\t\t\treject(e);\n\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\trunServer(){\n\t}\n\n\texportSchemaToPuml(){\n\t}\n\n\trender(){\n\t}\n\n}\n\nL('//after main\\n');\n"],"sourceRoot":"/source/"}